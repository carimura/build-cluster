box:
  id: rikgibson/weblogic
  ports:
    - "8080"

build:
  steps:
    - script:
        name: compile
        code: |
          echo 'Compiling...'; sleep 5

    - script:
        name: test
        code: |
          echo 'Running unit tests...'; sleep 5

    - script:
        name: package
        code: |
          echo 'Building libraries...'; sleep 3

    - script:
        name: output
        code: |
          echo 'Copying output...'; sleep 2

push-image:
  steps:
    - script:
      code: |
          echo 'Preparing artifacts...'; sleep 2

    - script:
      code: |
          echo 'Pushing to registry...'; sleep 5

deploy-staging:
  steps:
    - script:
      code: |
          echo 'Deploying to staging K8S cluster...'; sleep 5

integration-test:
  steps:
    - script:
      code: |
          echo 'Running integration tests...'; sleep 10

deploy-production:
  steps:
    - script:
      code: |
          echo 'Deploying to production K8S cluster...'; sleep 5
